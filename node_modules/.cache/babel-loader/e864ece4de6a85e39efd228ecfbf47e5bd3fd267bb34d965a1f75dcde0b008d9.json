{"ast":null,"code":"import _toConsumableArray from\"/home/remmy/Documents/Development/code/phase-2/bankOfFlatiron-codeChallenge/bank-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/remmy/Documents/Development/code/phase-2/bankOfFlatiron-codeChallenge/bank-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/remmy/Documents/Development/code/phase-2/bankOfFlatiron-codeChallenge/bank-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import Table from\"./components/Table\";import SearchBar from\"./components/SearchBar\";import{React,useEffect,useState}from\"react\";import Form from\"./components/Form\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),transactions=_useState2[0],setTransactions=_useState2[1];function filterTransaction(query){fetch(\"https://github.com/RemmyKyalo/transactions.github.io/blob/main/transactions.json\").then(function(req){return req.json();}).then(function(data){var newList=data.filter(function(transaction){return transaction.category.toLowerCase().includes(query.toLowerCase());});setTransactions(newList);});}function pushData(data){console.log(data);var largestId=transactions.sort(function(a,b){return b.id-a.id;})[0].id;var newTransaction=_objectSpread(_objectSpread({},data),{},{id:largestId+1,date:new Date()});var newList=[newTransaction].concat(_toConsumableArray(transactions));setTransactions(newList);}function resetTransaction(){fetch(\"https://github.com/RemmyKyalo/transactions.github.io/blob/main/transactions.json\").then(function(req){return req.json();}).then(function(data){setTransactions(data);// console.log(data);\n});}useEffect(function(){fetch(\"https://github.com/RemmyKyalo/transactions.github.io/blob/main/transactions.json\").then(function(req){return req.json();}).then(function(data){setTransactions(data);// console.log(data);\n});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container p-5 app\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"FlatironBankApp\"})}),/*#__PURE__*/_jsx(SearchBar,{onSearchQuery:function onSearchQuery(query){return filterTransaction(query);},onHandleReset:resetTransaction}),/*#__PURE__*/_jsx(Form,{onSubmitForm:pushData}),/*#__PURE__*/_jsx(Table,{transactions:transactions})]});}export default App;","map":{"version":3,"names":["Table","SearchBar","React","useEffect","useState","Form","App","transactions","setTransactions","filterTransaction","query","fetch","then","req","json","data","newList","filter","transaction","category","toLowerCase","includes","pushData","console","log","largestId","sort","a","b","id","newTransaction","date","Date","resetTransaction"],"sources":["/home/remmy/Documents/Development/code/phase-2/bankOfFlatiron-codeChallenge/bank-app/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport Table from \"./components/Table\";\nimport SearchBar from \"./components/SearchBar\";\nimport { React, useEffect, useState } from \"react\";\nimport Form from \"./components/Form\";\n\nfunction App() {\n  const [transactions, setTransactions] = useState([]);\n\n  function filterTransaction(query) {\n    fetch(\n      \"https://github.com/RemmyKyalo/transactions.github.io/blob/main/transactions.json\"\n    )\n      .then((req) => req.json())\n      .then((data) => {\n        const newList = data.filter((transaction) =>\n          transaction.category.toLowerCase().includes(query.toLowerCase())\n        );\n        setTransactions(newList);\n      });\n  }\n  function pushData(data) {\n    console.log(data);\n    const largestId = transactions.sort((a, b) => b.id - a.id)[0].id;\n    const newTransaction = {\n      ...data,\n      id: largestId + 1,\n      date: new Date(),\n    };\n    const newList = [newTransaction, ...transactions];\n    setTransactions(newList);\n  }\n\n  function resetTransaction() {\n    fetch(\n      \"https://github.com/RemmyKyalo/transactions.github.io/blob/main/transactions.json\"\n    )\n      .then((req) => req.json())\n      .then((data) => {\n        setTransactions(data);\n        // console.log(data);\n      });\n  }\n\n  useEffect(() => {\n    fetch(\n      \"https://github.com/RemmyKyalo/transactions.github.io/blob/main/transactions.json\"\n    )\n      .then((req) => req.json())\n      .then((data) => {\n        setTransactions(data);\n        // console.log(data);\n      });\n  }, []);\n\n  return (\n    <div className=\"container p-5 app\">\n      <header>\n        <h1>FlatironBankApp</h1>\n      </header>\n\n      <SearchBar\n        onSearchQuery={(query) => filterTransaction(query)}\n        onHandleReset={resetTransaction}\n      />\n      <Form onSubmitForm={pushData} />\n      <Table transactions={transactions} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"qgBAAA,MAAO,WAAW,CAClB,MAAOA,MAAK,KAAM,oBAAoB,CACtC,MAAOC,UAAS,KAAM,wBAAwB,CAC9C,OAASC,KAAK,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,KAAI,KAAM,mBAAmB,CAAC,wFAErC,QAASC,IAAG,EAAG,CACb,cAAwCF,QAAQ,CAAC,EAAE,CAAC,wCAA7CG,YAAY,eAAEC,eAAe,eAEpC,QAASC,kBAAiB,CAACC,KAAK,CAAE,CAChCC,KAAK,CACH,kFAAkF,CACnF,CACEC,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACG,IAAI,CAAK,CACd,GAAMC,QAAO,CAAGD,IAAI,CAACE,MAAM,CAAC,SAACC,WAAW,QACtCA,YAAW,CAACC,QAAQ,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACX,KAAK,CAACU,WAAW,EAAE,CAAC,GACjE,CACDZ,eAAe,CAACQ,OAAO,CAAC,CAC1B,CAAC,CAAC,CACN,CACA,QAASM,SAAQ,CAACP,IAAI,CAAE,CACtBQ,OAAO,CAACC,GAAG,CAACT,IAAI,CAAC,CACjB,GAAMU,UAAS,CAAGlB,YAAY,CAACmB,IAAI,CAAC,SAACC,CAAC,CAAEC,CAAC,QAAKA,EAAC,CAACC,EAAE,CAAGF,CAAC,CAACE,EAAE,GAAC,CAAC,CAAC,CAAC,CAACA,EAAE,CAChE,GAAMC,eAAc,gCACff,IAAI,MACPc,EAAE,CAAEJ,SAAS,CAAG,CAAC,CACjBM,IAAI,CAAE,GAAIC,KAAI,EAAE,EACjB,CACD,GAAMhB,QAAO,EAAIc,cAAc,4BAAKvB,YAAY,EAAC,CACjDC,eAAe,CAACQ,OAAO,CAAC,CAC1B,CAEA,QAASiB,iBAAgB,EAAG,CAC1BtB,KAAK,CACH,kFAAkF,CACnF,CACEC,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACG,IAAI,CAAK,CACdP,eAAe,CAACO,IAAI,CAAC,CACrB;AACF,CAAC,CAAC,CACN,CAEAZ,SAAS,CAAC,UAAM,CACdQ,KAAK,CACH,kFAAkF,CACnF,CACEC,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACG,IAAI,CAAK,CACdP,eAAe,CAACO,IAAI,CAAC,CACrB;AACF,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,aAAK,SAAS,CAAC,mBAAmB,wBAChC,qCACE,oBAAI,iBAAe,EAAK,EACjB,cAET,KAAC,SAAS,EACR,aAAa,CAAE,uBAACL,KAAK,QAAKD,kBAAiB,CAACC,KAAK,CAAC,EAAC,CACnD,aAAa,CAAEuB,gBAAiB,EAChC,cACF,KAAC,IAAI,EAAC,YAAY,CAAEX,QAAS,EAAG,cAChC,KAAC,KAAK,EAAC,YAAY,CAAEf,YAAa,EAAG,GACjC,CAEV,CAEA,cAAeD,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}